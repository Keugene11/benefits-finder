<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Benefits Finder â€” Discover Government Programs You Qualify For</title>
  <meta name="description" content="Find government benefits and assistance programs you may be eligible for. Answer a few questions to discover programs that could save you thousands of dollars each year." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›¡ï¸</text></svg>" />
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { fontFamily: { sans: ['Inter','system-ui','-apple-system','sans-serif'] } } } };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    @keyframes fadeInUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    .fade-in-up-delay { opacity: 0; }
    .card-details { display:grid; grid-template-rows:0fr; transition:grid-template-rows 0.25s ease; }
    .card-details.open { grid-template-rows:1fr; }
    .card-details > div { overflow:hidden; }
    @media print {
      body { background:white!important; }
      .no-print { display:none!important; }
      .print-expand .card-details { grid-template-rows:1fr!important; }
      .print-expand .chevron-btn { display:none!important; }
      .print-expand .owned-row { display:none!important; }
      .benefit-card { break-inside:avoid; border:1px solid #ddd!important; box-shadow:none!important; opacity:1!important; }
      .benefit-card.owned { opacity:0.5!important; }
    }
  </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans">
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useRef, createContext, useContext } = React;

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TRANSLATIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    const UI = {
      en: {
        title: "Benefits Finder",
        subtitle: "Discover government programs and benefits you may qualify for. Answer a few quick questions and we'll identify programs that could save you thousands of dollars each year.",
        formTitle: "Tell us about your household",
        formSub: "All fields are required. Your answers stay in your browser â€” nothing is sent anywhere.",
        lState: "State", lSize: "Household Size", lIncome: "Annual Household Income",
        lEmployment: "Employment Status", lChildren: "Do you have children under 18?",
        lInsurance: "Do you have health insurance?", lVeteran: "Are you a veteran?",
        phState: "Select your state...", phSize: "Select household size...", phIncome: "Select income range...",
        btnFind: "Find My Benefits",
        leaving: "You could be leaving", perYear: "/year",
        onTable: (n) => `on the table across ${n} unclaimed benefit${n!==1?"s":""}`,
        allClaimed: "You're already receiving all matched benefits!",
        likely: "Likely Eligible", worth: "Worth Checking", already: "Already Receiving",
        expandAll: "Expand All", collapseAll: "Collapse All",
        copy: "Copy Results", copied: "Copied!", print: "Print",
        startOver: "Start Over", editAnswers: "Edit Answers",
        ownedCheck: "I already receive this benefit",
        noResults: "No matching benefits found for your profile.",
        noResultsSub: "Try adjusting your answers to see different results.",
        disclaimer: "This tool provides estimates only and is not legal or financial advice. Eligibility determinations are approximate and based on limited information. Please verify eligibility with the official program websites. This tool does not store any personal information.",
        summaryTitle: "BENEFITS FINDER RESULTS", summaryProfile: "Profile",
        summaryUnclaimed: "UNCLAIMED BENEFITS", summaryReceiving: "ALREADY RECEIVING",
      },
      es: {
        title: "Buscador de Beneficios",
        subtitle: "Descubra programas gubernamentales y beneficios para los que puede calificar. Responda algunas preguntas y le identificaremos programas que podrÃ­an ahorrarle miles de dÃ³lares cada aÃ±o.",
        formTitle: "CuÃ©ntenos sobre su hogar",
        formSub: "Todos los campos son obligatorios. Sus respuestas permanecen en su navegador â€” no se envÃ­an a ningÃºn lugar.",
        lState: "Estado", lSize: "TamaÃ±o del hogar", lIncome: "Ingreso anual del hogar",
        lEmployment: "SituaciÃ³n laboral", lChildren: "Â¿Tiene hijos menores de 18 aÃ±os?",
        lInsurance: "Â¿Tiene seguro mÃ©dico?", lVeteran: "Â¿Es veterano/a?",
        phState: "Seleccione su estado...", phSize: "Seleccione tamaÃ±o del hogar...", phIncome: "Seleccione rango de ingresos...",
        btnFind: "Buscar Mis Beneficios",
        leaving: "PodrÃ­a estar dejando", perYear: "/aÃ±o",
        onTable: (n) => `sin reclamar en ${n} beneficio${n!==1?"s":""}`,
        allClaimed: "Â¡Ya estÃ¡ recibiendo todos los beneficios encontrados!",
        likely: "Probablemente elegible", worth: "Vale la pena verificar", already: "Ya lo recibe",
        expandAll: "Expandir todo", collapseAll: "Contraer todo",
        copy: "Copiar resultados", copied: "Â¡Copiado!", print: "Imprimir",
        startOver: "Empezar de nuevo", editAnswers: "Editar respuestas",
        ownedCheck: "Ya recibo este beneficio",
        noResults: "No se encontraron beneficios para su perfil.",
        noResultsSub: "Intente ajustar sus respuestas para ver diferentes resultados.",
        disclaimer: "Esta herramienta proporciona solo estimaciones y no constituye asesoramiento legal o financiero. Las determinaciones de elegibilidad son aproximadas y se basan en informaciÃ³n limitada. Verifique la elegibilidad en los sitios web oficiales de los programas. Esta herramienta no almacena ninguna informaciÃ³n personal.",
        summaryTitle: "RESULTADOS DEL BUSCADOR DE BENEFICIOS", summaryProfile: "Perfil",
        summaryUnclaimed: "BENEFICIOS SIN RECLAMAR", summaryReceiving: "YA RECIBIENDO",
      },
      zh: {
        title: "ç¦åˆ©æŸ¥æ‰¾å™¨",
        subtitle: "å‘ç°æ‚¨å¯èƒ½æœ‰èµ„æ ¼è·å¾—çš„æ”¿åºœè®¡åˆ’å’Œç¦åˆ©ã€‚å›ç­”å‡ ä¸ªç®€å•é—®é¢˜ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨æ‰¾åˆ°æ¯å¹´å¯èƒ½èŠ‚çœæ•°åƒç¾å…ƒçš„é¡¹ç›®ã€‚",
        formTitle: "å‘Šè¯‰æˆ‘ä»¬æ‚¨çš„å®¶åº­æƒ…å†µ",
        formSub: "æ‰€æœ‰å­—æ®µå‡ä¸ºå¿…å¡«ã€‚æ‚¨çš„å›ç­”ä¿ç•™åœ¨æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šå‘é€åˆ°ä»»ä½•åœ°æ–¹ã€‚",
        lState: "å·", lSize: "å®¶åº­äººæ•°", lIncome: "å®¶åº­å¹´æ”¶å…¥",
        lEmployment: "å°±ä¸šçŠ¶å†µ", lChildren: "æ˜¯å¦æœ‰18å²ä»¥ä¸‹çš„å­©å­ï¼Ÿ",
        lInsurance: "æ˜¯å¦æœ‰åŒ»ç–—ä¿é™©ï¼Ÿ", lVeteran: "æ˜¯å¦ä¸ºé€€ä¼å†›äººï¼Ÿ",
        phState: "é€‰æ‹©æ‚¨çš„å·...", phSize: "é€‰æ‹©å®¶åº­äººæ•°...", phIncome: "é€‰æ‹©æ”¶å…¥èŒƒå›´...",
        btnFind: "æŸ¥æ‰¾æˆ‘çš„ç¦åˆ©",
        leaving: "æ‚¨å¯èƒ½æ­£åœ¨é”™è¿‡", perYear: "/å¹´",
        onTable: (n) => `å…± ${n} é¡¹æœªç”³é¢†ç¦åˆ©`,
        allClaimed: "æ‚¨å·²ç»åœ¨é¢†å–æ‰€æœ‰åŒ¹é…çš„ç¦åˆ©ï¼",
        likely: "å¾ˆå¯èƒ½ç¬¦åˆèµ„æ ¼", worth: "å€¼å¾—æŸ¥çœ‹", already: "å·²åœ¨é¢†å–",
        expandAll: "å…¨éƒ¨å±•å¼€", collapseAll: "å…¨éƒ¨æ”¶èµ·",
        copy: "å¤åˆ¶ç»“æœ", copied: "å·²å¤åˆ¶ï¼", print: "æ‰“å°",
        startOver: "é‡æ–°å¼€å§‹", editAnswers: "ç¼–è¾‘ç­”æ¡ˆ",
        ownedCheck: "æˆ‘å·²ç»åœ¨é¢†å–æ­¤ç¦åˆ©",
        noResults: "æœªæ‰¾åˆ°ä¸æ‚¨æƒ…å†µåŒ¹é…çš„ç¦åˆ©ã€‚",
        noResultsSub: "å°è¯•è°ƒæ•´æ‚¨çš„å›ç­”ä»¥æŸ¥çœ‹ä¸åŒçš„ç»“æœã€‚",
        disclaimer: "æ­¤å·¥å…·ä»…æä¾›ä¼°ç®—ï¼Œä¸æ„æˆæ³•å¾‹æˆ–è´¢åŠ¡å»ºè®®ã€‚èµ„æ ¼åˆ¤å®šæ˜¯è¿‘ä¼¼çš„ï¼ŒåŸºäºæœ‰é™çš„ä¿¡æ¯ã€‚è¯·åœ¨å®˜æ–¹é¡¹ç›®ç½‘ç«™ä¸ŠéªŒè¯èµ„æ ¼ã€‚æ­¤å·¥å…·ä¸å­˜å‚¨ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚",
        summaryTitle: "ç¦åˆ©æŸ¥æ‰¾ç»“æœ", summaryProfile: "ä¸ªäººèµ„æ–™",
        summaryUnclaimed: "æœªç”³é¢†çš„ç¦åˆ©", summaryReceiving: "å·²åœ¨é¢†å–",
      },
    };

    // Option display labels per language â€” values stay English internally
    const OPT_LABELS = {
      employment: {
        en: { Employed:"Employed", Unemployed:"Unemployed", "Self-employed":"Self-employed", Student:"Student", Retired:"Retired", Disabled:"Disabled" },
        es: { Employed:"Empleado", Unemployed:"Desempleado", "Self-employed":"AutÃ³nomo", Student:"Estudiante", Retired:"Jubilado", Disabled:"Discapacitado" },
        zh: { Employed:"åœ¨èŒ", Unemployed:"å¤±ä¸š", "Self-employed":"è‡ªé›‡", Student:"å­¦ç”Ÿ", Retired:"é€€ä¼‘", Disabled:"æ®‹ç–¾" },
      },
      yesNo: {
        en: { Yes:"Yes", No:"No" },
        es: { Yes:"SÃ­", No:"No" },
        zh: { Yes:"æ˜¯", No:"å¦" },
      },
      income: {
        en: { "Under $20,000":"Under $20,000","$20,000 - $35,000":"$20,000 - $35,000","$35,000 - $50,000":"$35,000 - $50,000","$50,000 - $75,000":"$50,000 - $75,000","$75,000+":"$75,000+" },
        es: { "Under $20,000":"Menos de $20,000","$20,000 - $35,000":"$20,000 - $35,000","$35,000 - $50,000":"$35,000 - $50,000","$50,000 - $75,000":"$50,000 - $75,000","$75,000+":"$75,000+" },
        zh: { "Under $20,000":"ä½äº $20,000","$20,000 - $35,000":"$20,000 - $35,000","$35,000 - $50,000":"$35,000 - $50,000","$50,000 - $75,000":"$50,000 - $75,000","$75,000+":"$75,000+" },
      },
    };

    function optList(keys, category, lang) {
      const labels = OPT_LABELS[category][lang] || OPT_LABELS[category].en;
      return keys.map(k => ({ value: k, label: labels[k] || k }));
    }

    // Benefit text: { [englishName]: { es:[name,desc,apply], zh:[name,desc,apply] } }
    const BT = {
      "SNAP / Food Stamps": {
        es: ["SNAP / Cupones de Alimentos","Proporciona fondos mensuales en una tarjeta EBT para comprar alimentos. El monto depende del tamaÃ±o del hogar, los ingresos y los gastos.","Solicite a travÃ©s de la oficina SNAP de su estado o en lÃ­nea en https://www.fns.usda.gov/snap/recipient/eligibility"],
        zh: ["SNAP / é£Ÿå“åˆ¸","æ¯æœˆåœ¨EBTå¡ä¸Šæä¾›èµ„é‡‘ç”¨äºè´­ä¹°é£Ÿå“æ‚è´§ã€‚ç¦åˆ©é‡‘é¢å–å†³äºå®¶åº­è§„æ¨¡ã€æ”¶å…¥å’Œæ”¯å‡ºã€‚","é€šè¿‡æ‚¨æ‰€åœ¨å·çš„SNAPåŠå…¬å®¤æˆ–åœ¨çº¿ç”³è¯· https://www.fns.usda.gov/snap/recipient/eligibility"],
      },
      "Medicaid": {
        es: ["Medicaid","Cobertura mÃ©dica gratuita o de bajo costo para adultos, niÃ±os, mujeres embarazadas, adultos mayores y personas con discapacidades de bajos ingresos.","Solicite en la oficina de Medicaid de su estado o en lÃ­nea en https://www.healthcare.gov/medicaid-chip/getting-medicaid-chip/"],
        zh: ["åŒ»ç–—è¡¥åŠ© (Medicaid)","ä¸ºç¬¦åˆæ¡ä»¶çš„ä½æ”¶å…¥æˆäººã€å„¿ç«¥ã€å­•å¦‡ã€è€å¹´äººå’Œæ®‹ç–¾äººæä¾›å…è´¹æˆ–ä½æˆæœ¬åŒ»ç–—ä¿é™©ã€‚","åœ¨æ‚¨æ‰€åœ¨å·çš„MedicaidåŠå…¬å®¤æˆ–åœ¨çº¿ç”³è¯· https://www.healthcare.gov/medicaid-chip/getting-medicaid-chip/"],
      },
      "CHIP (Children's Health Insurance)": {
        es: ["CHIP (Seguro MÃ©dico para NiÃ±os)","Proporciona cobertura mÃ©dica de bajo costo para niÃ±os en familias que ganan demasiado para Medicaid pero no pueden pagar un seguro privado.","Solicite en https://www.insurekidsnow.gov o llame al 1-877-KIDS-NOW (1-877-543-7669)"],
        zh: ["å„¿ç«¥å¥åº·ä¿é™©è®¡åˆ’ (CHIP)","ä¸ºæ”¶å…¥è¿‡é«˜ä¸ç¬¦åˆMedicaidä½†æ— åŠ›è´Ÿæ‹…ç§äººä¿é™©çš„å®¶åº­çš„å„¿ç«¥æä¾›ä½æˆæœ¬åŒ»ç–—ä¿é™©ã€‚","åœ¨ https://www.insurekidsnow.gov ç”³è¯·æˆ–è‡´ç”µ 1-877-KIDS-NOW (1-877-543-7669)"],
      },
      "ACA Marketplace Subsidies": {
        es: ["Subsidios del Mercado ACA","CrÃ©ditos fiscales y reducciones de costos para ayudarle a pagar el seguro mÃ©dico a travÃ©s del Mercado de Seguros de Salud.","InscrÃ­base durante la inscripciÃ³n abierta en https://www.healthcare.gov/"],
        zh: ["ACAåŒ»ç–—ä¿é™©å¸‚åœºè¡¥è´´","ä¿è´¹ç¨æ”¶æŠµå…å’Œè´¹ç”¨åˆ†æ‘Šå‡å…ï¼Œå¸®åŠ©æ‚¨é€šè¿‡å¥åº·ä¿é™©å¸‚åœºè´­ä¹°åŒ»ç–—ä¿é™©ã€‚","åœ¨å¼€æ”¾æ³¨å†ŒæœŸé—´åœ¨ https://www.healthcare.gov/ æ³¨å†Œ"],
      },
      "Earned Income Tax Credit (EITC)": {
        es: ["CrÃ©dito Tributario por Ingreso del Trabajo (EITC)","Un crÃ©dito fiscal reembolsable para trabajadores de ingresos bajos a moderados, especialmente aquellos con hijos.","ReclÃ¡melo al presentar su declaraciÃ³n de impuestos federales. MÃ¡s informaciÃ³n en https://www.irs.gov/credits-deductions/individuals/earned-income-tax-credit-eitc"],
        zh: ["åŠ³åŠ¨æ‰€å¾—ç¨æŠµå… (EITC)","é¢å‘ä½è‡³ä¸­ç­‰æ”¶å…¥å·¥ä½œä¸ªäººå’Œå®¶åº­çš„å¯é€€è¿˜ç¨æ”¶æŠµå…ï¼Œå°¤å…¶æ˜¯æœ‰å­©å­çš„å®¶åº­ã€‚","åœ¨æäº¤è”é‚¦çº³ç¨ç”³æŠ¥è¡¨æ—¶ç”³é¢†ã€‚è¯¦æƒ…è¯·è®¿é—® https://www.irs.gov/credits-deductions/individuals/earned-income-tax-credit-eitc"],
      },
      "Child Tax Credit (CTC)": {
        es: ["CrÃ©dito Tributario por Hijos (CTC)","Un crÃ©dito fiscal de hasta $2,000 por hijo calificado menor de 17 aÃ±os, con hasta $1,700 reembolsable incluso si no debe impuestos.","ReclÃ¡melo al presentar su declaraciÃ³n de impuestos federales. Detalles en https://www.irs.gov/credits-deductions/individuals/child-tax-credit"],
        zh: ["å„¿ç«¥ç¨æ”¶æŠµå… (CTC)","æ¯ä¸ª17å²ä»¥ä¸‹ç¬¦åˆæ¡ä»¶çš„å„¿ç«¥æœ€é«˜å¯è·$2,000ç¨æ”¶æŠµå…ï¼Œå³ä½¿ä¸æ¬ ç¨ä¹Ÿå¯é€€è¿˜æœ€é«˜$1,700ã€‚","åœ¨æäº¤è”é‚¦çº³ç¨ç”³æŠ¥è¡¨æ—¶ç”³é¢†ã€‚è¯¦æƒ…è¯·è®¿é—® https://www.irs.gov/credits-deductions/individuals/child-tax-credit"],
      },
      "WIC (Women, Infants & Children)": {
        es: ["WIC (Mujeres, Infantes y NiÃ±os)","Proporciona alimentos nutritivos, educaciÃ³n nutricional y referencias mÃ©dicas para mujeres embarazadas, madres nuevas, bebÃ©s y niÃ±os menores de 5 aÃ±os.","Contacte a su oficina local de WIC. Encuentre ubicaciones en https://www.fns.usda.gov/wic/wic-how-apply"],
        zh: ["WICå¦‡å¹¼è¥å…»è®¡åˆ’","ä¸ºå­•å¦‡ã€æ–°å¦ˆå¦ˆã€å©´å„¿å’Œ5å²ä»¥ä¸‹å„¿ç«¥æä¾›è¥å…»é£Ÿå“ã€è¥å…»æ•™è‚²å’ŒåŒ»ç–—è½¬ä»‹ã€‚","è”ç³»æ‚¨å½“åœ°çš„WICåŠå…¬å®¤ã€‚æŸ¥æ‰¾åœ°ç‚¹ https://www.fns.usda.gov/wic/wic-how-apply"],
      },
      "National School Lunch Program": {
        es: ["Programa Nacional de Almuerzo Escolar","Proporciona almuerzos gratuitos o a precio reducido a niÃ±os en escuelas participantes segÃºn los ingresos familiares.","Solicite a travÃ©s de la escuela de su hijo. MÃ¡s informaciÃ³n en https://www.fns.usda.gov/nslp/national-school-lunch-program"],
        zh: ["å…¨å›½å­¦æ ¡åˆé¤è®¡åˆ’","æ ¹æ®å®¶åº­æ”¶å…¥ä¸ºå‚ä¸å­¦æ ¡çš„å„¿ç«¥æä¾›å…è´¹æˆ–å‡ä»·åˆé¤ã€‚","é€šè¿‡å­©å­çš„å­¦æ ¡ç”³è¯·ã€‚è¯¦æƒ…è¯·è®¿é—® https://www.fns.usda.gov/nslp/national-school-lunch-program"],
      },
      "Head Start / Early Head Start": {
        es: ["Head Start / Early Head Start","Servicios gratuitos de educaciÃ³n infantil temprana, salud y apoyo familiar para niÃ±os de bajos ingresos desde el nacimiento hasta los 5 aÃ±os.","Encuentre un programa local en https://www.acf.hhs.gov/ohs/headstartservices"],
        zh: ["å¯è’™è®¡åˆ’ (Head Start)","ä¸ºä½æ”¶å…¥å®¶åº­å‡ºç”Ÿè‡³5å²çš„å„¿ç«¥æä¾›å…è´¹çš„æ—©æœŸæ•™è‚²ã€å¥åº·å’Œå®¶åº­æ”¯æŒæœåŠ¡ã€‚","æŸ¥æ‰¾å½“åœ°é¡¹ç›® https://www.acf.hhs.gov/ohs/headstartservices"],
      },
      "TANF (Temporary Assistance for Needy Families)": {
        es: ["TANF (Asistencia Temporal para Familias Necesitadas)","Proporciona asistencia econÃ³mica temporal a familias de bajos ingresos con hijos, junto con capacitaciÃ³n laboral y servicios de apoyo.","Solicite a travÃ©s del departamento de servicios humanos de su estado. Info en https://www.acf.hhs.gov/ofa/programs/tanf"],
        zh: ["è´«å›°å®¶åº­ä¸´æ—¶æ´åŠ© (TANF)","ä¸ºæœ‰å­©å­çš„ä½æ”¶å…¥å®¶åº­æä¾›ä¸´æ—¶ç°é‡‘æ´åŠ©ä»¥åŠèŒä¸šåŸ¹è®­å’Œæ”¯æŒæœåŠ¡ã€‚","é€šè¿‡æ‚¨æ‰€åœ¨å·çš„äººåŠ›æœåŠ¡éƒ¨é—¨ç”³è¯·ã€‚ä¿¡æ¯è¯·è®¿é—® https://www.acf.hhs.gov/ofa/programs/tanf"],
      },
      "Section 8 Housing Choice Voucher": {
        es: ["SecciÃ³n 8 â€” Vales de Vivienda","Ayuda a familias de bajos ingresos, personas mayores y personas con discapacidad a pagar vivienda segura en el mercado privado subsidiando el alquiler.","Solicite a travÃ©s de su Agencia de Vivienda PÃºblica local. Encuentre la suya en https://www.hud.gov/program_offices/public_indian_housing/pha/contacts"],
        zh: ["ç¬¬å…«æ¡ä½æˆ¿é€‰æ‹©åˆ¸","é€šè¿‡è¡¥è´´ç§Ÿé‡‘å¸®åŠ©ä½æ”¶å…¥å®¶åº­ã€è€å¹´äººå’Œæ®‹ç–¾äººåœ¨ç§äººå¸‚åœºä¸Šè´Ÿæ‹…å®‰å…¨ä½æˆ¿ã€‚","é€šè¿‡æ‚¨å½“åœ°çš„å…¬å…±ä½æˆ¿ç®¡ç†å±€ç”³è¯·ã€‚æŸ¥æ‰¾ https://www.hud.gov/program_offices/public_indian_housing/pha/contacts"],
      },
      "LIHEAP (Energy Assistance)": {
        es: ["LIHEAP (Asistencia EnergÃ©tica)","Ayuda a hogares de bajos ingresos a pagar facturas de calefacciÃ³n y refrigeraciÃ³n, y puede asistir con mejoras de eficiencia energÃ©tica.","Solicite a travÃ©s de su agencia LIHEAP estatal o local. Info en https://www.acf.hhs.gov/ocs/low-income-home-energy-assistance-program-liheap"],
        zh: ["ä½æ”¶å…¥å®¶åº­èƒ½æºæ´åŠ© (LIHEAP)","å¸®åŠ©ä½æ”¶å…¥å®¶åº­æ”¯ä»˜å–æš–å’Œåˆ¶å†·è´¹ç”¨ï¼Œä¹Ÿå¯ååŠ©è¿›è¡ŒèŠ‚èƒ½ä½æˆ¿æ”¹å–„ã€‚","é€šè¿‡æ‚¨æ‰€åœ¨å·æˆ–åœ°æ–¹çš„LIHEAPæœºæ„ç”³è¯·ã€‚ä¿¡æ¯è¯·è®¿é—® https://www.acf.hhs.gov/ocs/low-income-home-energy-assistance-program-liheap"],
      },
      "Lifeline Phone/Internet Discount": {
        es: ["Lifeline â€” Descuento de TelÃ©fono/Internet","Proporciona un descuento mensual de hasta $9.25 en servicio de telÃ©fono o internet para hogares elegibles de bajos ingresos.","Solicite a travÃ©s de su proveedor de telÃ©fono/internet o en https://www.lifelinesupport.org/"],
        zh: ["Lifeline ç”µè¯/ç½‘ç»œæŠ˜æ‰£","ä¸ºç¬¦åˆæ¡ä»¶çš„ä½æ”¶å…¥å®¶åº­æä¾›æ¯æœˆæœ€é«˜$9.25çš„ç”µè¯æˆ–äº’è”ç½‘æœåŠ¡æŠ˜æ‰£ã€‚","é€šè¿‡æ‚¨çš„ç”µè¯/äº’è”ç½‘æä¾›å•†æˆ–åœ¨ https://www.lifelinesupport.org/ ç”³è¯·"],
      },
      "Pell Grant": {
        es: ["Beca Pell","Beca federal para estudiantes universitarios con necesidad financiera. A diferencia de los prÃ©stamos, las Becas Pell no tienen que ser devueltas.","Complete la FAFSA en https://studentaid.gov/h/apply-for-aid/fafsa"],
        zh: ["ä½©å°”åŠ©å­¦é‡‘ (Pell Grant)","é¢å‘æœ‰ç»æµéœ€è¦çš„æœ¬ç§‘ç”Ÿçš„è”é‚¦åŠ©å­¦é‡‘ã€‚ä¸è´·æ¬¾ä¸åŒï¼Œä½©å°”åŠ©å­¦é‡‘ä¸éœ€è¦å¿è¿˜ã€‚","åœ¨ https://studentaid.gov/h/apply-for-aid/fafsa å®ŒæˆFAFSAç”³è¯·"],
      },
      "Unemployment Insurance": {
        es: ["Seguro de Desempleo","Proporciona pagos semanales temporales a trabajadores que han perdido su empleo sin culpa propia mientras buscan nuevo trabajo.","Presente una reclamaciÃ³n en la oficina de desempleo de su estado. Encuentre la suya en https://www.careeronestop.org/LocalHelp/UnemploymentBenefits/find-unemployment-benefits.aspx"],
        zh: ["å¤±ä¸šä¿é™©","ä¸ºéå› æœ¬äººè¿‡é”™è€Œå¤±ä¸šçš„å·¥äººåœ¨å¯»æ‰¾æ–°å·¥ä½œæœŸé—´æä¾›ä¸´æ—¶æ¯å‘¨ä»˜æ¬¾ã€‚","å‘æ‚¨æ‰€åœ¨å·çš„å¤±ä¸šåŠå…¬å®¤æå‡ºç”³è¯· https://www.careeronestop.org/LocalHelp/UnemploymentBenefits/find-unemployment-benefits.aspx"],
      },
      "SSI (Supplemental Security Income)": {
        es: ["SSI (Seguridad de Ingreso Suplementario)","Pagos mensuales en efectivo para adultos y niÃ±os discapacitados con ingresos y recursos limitados, y para adultos de 65 aÃ±os o mÃ¡s.","Solicite en su oficina local del Seguro Social o en lÃ­nea en https://www.ssa.gov/ssi/"],
        zh: ["è¡¥å……ä¿éšœæ”¶å…¥ (SSI)","ä¸ºæ”¶å…¥å’Œèµ„æºæœ‰é™çš„æ®‹ç–¾æˆäººå’Œå„¿ç«¥ä»¥åŠ65å²ä»¥ä¸Šæˆäººæä¾›æ¯æœˆç°é‡‘ä»˜æ¬¾ã€‚","åœ¨æ‚¨å½“åœ°çš„ç¤¾ä¼šä¿éšœåŠå…¬å®¤æˆ–åœ¨çº¿ç”³è¯· https://www.ssa.gov/ssi/"],
      },
      "SSDI (Social Security Disability Insurance)": {
        es: ["SSDI (Seguro de Discapacidad del Seguro Social)","Proporciona beneficios mensuales a personas que ya no pueden trabajar debido a una condiciÃ³n mÃ©dica significativa que se espera dure al menos un aÃ±o.","Solicite en lÃ­nea en https://www.ssa.gov/disability/ o llame al 1-800-772-1213"],
        zh: ["ç¤¾ä¼šä¿éšœæ®‹ç–¾ä¿é™© (SSDI)","ä¸ºå› é¢„è®¡æŒç»­è‡³å°‘ä¸€å¹´çš„é‡å¤§ç–¾ç—…è€Œæ— æ³•å·¥ä½œçš„äººæä¾›æ¯æœˆç¦åˆ©ã€‚","åœ¨çº¿ç”³è¯· https://www.ssa.gov/disability/ æˆ–è‡´ç”µ 1-800-772-1213"],
      },
      "Social Security Retirement Benefits": {
        es: ["Beneficios de JubilaciÃ³n del Seguro Social","Ingreso mensual de jubilaciÃ³n basado en su historial de ingresos. Puede reclamar a partir de los 62 aÃ±os con beneficios reducidos.","Solicite en lÃ­nea en https://www.ssa.gov/retirement/ o llame al 1-800-772-1213"],
        zh: ["ç¤¾ä¼šä¿éšœé€€ä¼‘é‡‘","åŸºäºæ‚¨ç»ˆèº«æ”¶å…¥è®°å½•çš„æ¯æœˆé€€ä¼‘æ”¶å…¥ã€‚æœ€æ—©å¯åœ¨62å²ç”³é¢†ï¼Œä½†ç¦åˆ©ä¼šå‡å°‘ã€‚","åœ¨çº¿ç”³è¯· https://www.ssa.gov/retirement/ æˆ–è‡´ç”µ 1-800-772-1213"],
      },
      "VA Health Care": {
        es: ["AtenciÃ³n MÃ©dica de VA","Servicios completos de atenciÃ³n mÃ©dica para veteranos elegibles, incluyendo atenciÃ³n preventiva, hospitalizaciÃ³n, recetas y salud mental.","Solicite en lÃ­nea en https://www.va.gov/health-care/apply-for-health-care-form-10-10ez/"],
        zh: ["é€€ä¼å†›äººåŒ»ç–—ä¿å¥","ä¸ºç¬¦åˆæ¡ä»¶çš„é€€ä¼å†›äººæä¾›å…¨é¢åŒ»ç–—æœåŠ¡ï¼ŒåŒ…æ‹¬é¢„é˜²ä¿å¥ã€ä½é™¢æ²»ç–—ã€å¤„æ–¹è¯å’Œå¿ƒç†å¥åº·æœåŠ¡ã€‚","åœ¨çº¿ç”³è¯· https://www.va.gov/health-care/apply-for-health-care-form-10-10ez/"],
      },
      "VA Disability Compensation": {
        es: ["CompensaciÃ³n por Discapacidad de VA","Pagos mensuales libres de impuestos para veteranos con discapacidades relacionadas con el servicio o condiciones causadas durante el servicio militar.","Presente una reclamaciÃ³n en https://www.va.gov/disability/how-to-file-claim/"],
        zh: ["é€€ä¼å†›äººæ®‹ç–¾è¡¥å¿","ä¸ºå› æœå½¹ç›¸å…³æ®‹ç–¾æˆ–åœ¨æœå½¹æœŸé—´å¼•èµ·æˆ–åŠ é‡çš„ç–¾ç—…çš„é€€ä¼å†›äººæä¾›å…ç¨æœˆä»˜æ¬¾ã€‚","åœ¨ https://www.va.gov/disability/how-to-file-claim/ æäº¤ç”³è¯·"],
      },
      "VA Pension": {
        es: ["PensiÃ³n de VA","Beneficio mensual libre de impuestos para veteranos de guerra con ingresos limitados que tienen 65+ aÃ±os o estÃ¡n permanentemente discapacitados.","Solicite en https://www.va.gov/pension/how-to-apply/"],
        zh: ["é€€ä¼å†›äººå…»è€é‡‘","ä¸ºæ”¶å…¥æœ‰é™ã€65å²ä»¥ä¸Šæˆ–æ°¸ä¹…æ®‹ç–¾çš„æˆ˜æ—¶é€€ä¼å†›äººæä¾›å…ç¨æœˆåº¦ç¦åˆ©ã€‚","åœ¨ https://www.va.gov/pension/how-to-apply/ ç”³è¯·"],
      },
      "VA Education Benefits (GI Bill)": {
        es: ["Beneficios Educativos de VA (GI Bill)","Ayuda a veteranos a pagar la universidad, posgrado y programas de capacitaciÃ³n, incluyendo matrÃ­cula y vivienda.","Solicite en https://www.va.gov/education/how-to-apply/"],
        zh: ["é€€ä¼å†›äººæ•™è‚²ç¦åˆ© (GI Bill)","å¸®åŠ©é€€ä¼å†›äººå’Œæœå½¹äººå‘˜æ”¯ä»˜å¤§å­¦ã€ç ”ç©¶ç”Ÿé™¢å’ŒåŸ¹è®­é¡¹ç›®è´¹ç”¨ï¼ŒåŒ…æ‹¬å­¦è´¹å’Œä½æˆ¿ã€‚","åœ¨ https://www.va.gov/education/how-to-apply/ ç”³è¯·"],
      },
      "Medicare Savings Program": {
        es: ["Programa de Ahorro de Medicare","Ayuda a pagar primas, deducibles, coseguros y copagos de Medicare para personas con ingresos y recursos limitados.","Contacte a la oficina de Medicaid de su estado. Info en https://www.medicare.gov/basics/costs/help/medicare-savings-programs"],
        zh: ["åŒ»ç–—ä¿é™©å‚¨è“„è®¡åˆ’","å¸®åŠ©æ”¶å…¥å’Œèµ„æºæœ‰é™çš„äººæ”¯ä»˜Medicareä¿è´¹ã€å…èµ”é¢ã€å…±åŒä¿é™©å’Œå…±ä»˜é¢ã€‚","è”ç³»æ‚¨æ‰€åœ¨å·çš„MedicaidåŠå…¬å®¤ã€‚ä¿¡æ¯è¯·è®¿é—® https://www.medicare.gov/basics/costs/help/medicare-savings-programs"],
      },
    };

    function bText(benefitName, field, lang) {
      if (lang === "en") return null;
      const entry = BT[benefitName];
      if (!entry || !entry[lang]) return null;
      const idx = field === "name" ? 0 : field === "description" ? 1 : 2;
      return entry[lang][idx];
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CONSTANTS & ELIGIBILITY ENGINE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    const US_STATES = [
      "Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut",
      "Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois",
      "Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts",
      "Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada",
      "New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota",
      "Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina",
      "South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington",
      "West Virginia","Wisconsin","Wyoming"
    ];
    const INCOME_RANGES = ["Under $20,000","$20,000 - $35,000","$35,000 - $50,000","$50,000 - $75,000","$75,000+"];
    const EMPLOYMENT_OPTIONS = ["Employed","Unemployed","Self-employed","Student","Retired","Disabled"];
    const YES_NO = ["Yes","No"];

    const NON_EXPANSION_STATES = new Set(["Alabama","Florida","Georgia","Kansas","Mississippi","South Carolina","Tennessee","Texas","Wisconsin","Wyoming"]);
    const INCOME_BOUNDS = {
      "Under $20,000":{min:0,max:19999,mid:10000},"$20,000 - $35,000":{min:20000,max:35000,mid:27500},
      "$35,000 - $50,000":{min:35000,max:50000,mid:42500},"$50,000 - $75,000":{min:50000,max:75000,mid:62500},
      "$75,000+":{min:75000,max:150000,mid:90000},
    };

    function getFPL(s){const sz=s==="8+"?8:parseInt(s,10);return 15650+(sz-1)*5500;}
    function buildProfile(fd){
      const b=INCOME_BOUNDS[fd.income],fpl=getFPL(fd.householdSize),sz=fd.householdSize==="8+"?8:parseInt(fd.householdSize,10);
      return{state:fd.state,size:sz,incomeMin:b.min,incomeMax:b.max,incomeMid:b.mid,fpl,
        fplPctMin:(b.min/fpl)*100,fplPctMax:(b.max/fpl)*100,fplPctMid:(b.mid/fpl)*100,
        employment:fd.employment,hasChildren:fd.hasChildren==="Yes",hasInsurance:fd.hasInsurance==="Yes",
        isVeteran:fd.isVeteran==="Yes",isMedicaidExpansion:!NON_EXPANSION_STATES.has(fd.state),
        isWorking:fd.employment==="Employed"||fd.employment==="Self-employed",
        isDisabled:fd.employment==="Disabled",isRetired:fd.employment==="Retired",
        isStudent:fd.employment==="Student",isUnemployed:fd.employment==="Unemployed"};
    }
    function checkFPL(p,t){if(p.fplPctMax<=t)return"Likely Eligible";if(p.fplPctMin<=t)return"Worth Checking";return null;}

    const SNAP_MAX={1:292,2:536,3:768,4:975,5:1158,6:1390,7:1536,8:1756};
    const BENEFITS_DB = [
      {name:"SNAP / Food Stamps",description:"Provides monthly funds on an EBT card to purchase groceries. Benefit amount depends on household size, income, and expenses.",getValue:(p)=>{const mx=SNAP_MAX[Math.min(p.size,8)];return`$${Math.round(mx*0.3)}-$${mx}/month`;},how_to_apply:"Apply through your state's SNAP office or online at https://www.fns.usda.gov/snap/recipient/eligibility",check:(p)=>checkFPL(p,130)},
      {name:"Medicaid",description:"Free or low-cost health coverage for eligible low-income adults, children, pregnant women, elderly adults, and people with disabilities.",estimated_value:"$5,000-$8,000/year",how_to_apply:"Apply at your state Medicaid office or online at https://www.healthcare.gov/medicaid-chip/getting-medicaid-chip/",check:(p)=>{if(p.hasInsurance&&!p.isDisabled)return null;if(p.isMedicaidExpansion)return checkFPL(p,138);if(p.hasChildren||p.isDisabled||p.isRetired)return checkFPL(p,75);return p.fplPctMid<=50?"Worth Checking":null;}},
      {name:"CHIP (Children's Health Insurance)",description:"Provides low-cost health coverage to children in families that earn too much for Medicaid but can't afford private insurance.",estimated_value:"$2,000-$5,000/year",how_to_apply:"Apply at https://www.insurekidsnow.gov or call 1-877-KIDS-NOW (1-877-543-7669)",check:(p)=>{if(!p.hasChildren||p.hasInsurance)return null;return checkFPL(p,250);}},
      {name:"ACA Marketplace Subsidies",description:"Premium tax credits and cost-sharing reductions to help you afford health insurance through the Health Insurance Marketplace.",estimated_value:"$3,000-$10,000/year",how_to_apply:"Enroll during Open Enrollment at https://www.healthcare.gov/",check:(p)=>{if(p.hasInsurance)return null;const a=p.fplPctMin>=100||p.fplPctMid>=100,b=p.fplPctMid<=400;if(a&&b)return p.fplPctMax<=400?"Likely Eligible":"Worth Checking";if(p.fplPctMax>=100&&p.fplPctMin<=400)return"Worth Checking";return null;}},
      {name:"Earned Income Tax Credit (EITC)",description:"A refundable tax credit for low-to-moderate income working individuals and families, especially those with children.",getValue:(p)=>p.hasChildren?"$2,000-$7,430/year":"$300-$632/year",how_to_apply:"Claim when filing your federal tax return. Learn more at https://www.irs.gov/credits-deductions/individuals/earned-income-tax-credit-eitc",check:(p)=>{if(!p.isWorking)return null;const l=p.hasChildren?57000:18000;if(p.incomeMax<=l)return"Likely Eligible";if(p.incomeMid<=l)return"Worth Checking";return null;}},
      {name:"Child Tax Credit (CTC)",description:"A tax credit of up to $2,000 per qualifying child under 17, with up to $1,700 refundable even if you owe no taxes.",getValue:(p)=>{const kids=Math.max(p.size-1,1);return`Up to $${(2000*kids).toLocaleString()}/year`;},how_to_apply:"Claim when filing your federal tax return. Details at https://www.irs.gov/credits-deductions/individuals/child-tax-credit",check:(p)=>{if(!p.hasChildren)return null;if(p.incomeMax<=200000)return"Likely Eligible";if(p.incomeMid<=200000)return"Worth Checking";return null;}},
      {name:"WIC (Women, Infants & Children)",description:"Provides nutritious foods, nutrition education, and healthcare referrals for pregnant women, new mothers, infants, and children under 5.",estimated_value:"$50-$75/month",how_to_apply:"Contact your local WIC office. Find locations at https://www.fns.usda.gov/wic/wic-how-apply",check:(p)=>{if(!p.hasChildren)return null;return checkFPL(p,185);}},
      {name:"National School Lunch Program",description:"Provides free or reduced-price lunches to children at participating schools based on family income.",getValue:(p)=>checkFPL(p,130)==="Likely Eligible"?"Free meals (saves $1,000-$2,000/year)":"$500-$1,500/year",how_to_apply:"Apply through your child's school. Learn more at https://www.fns.usda.gov/nslp/national-school-lunch-program",check:(p)=>{if(!p.hasChildren)return null;return checkFPL(p,185);}},
      {name:"Head Start / Early Head Start",description:"Free early childhood education, health, and family support services for low-income children from birth to age 5.",estimated_value:"$8,000-$12,000/year",how_to_apply:"Find a local program at https://www.acf.hhs.gov/ohs/headstartservices",check:(p)=>{if(!p.hasChildren)return null;return checkFPL(p,100);}},
      {name:"TANF (Temporary Assistance for Needy Families)",description:"Provides temporary cash assistance to low-income families with children, along with job training and support services.",estimated_value:"$200-$600/month",how_to_apply:"Apply through your state's human services department. Info at https://www.acf.hhs.gov/ofa/programs/tanf",check:(p)=>{if(!p.hasChildren)return null;return checkFPL(p,75);}},
      {name:"Section 8 Housing Choice Voucher",description:"Helps low-income families, the elderly, and disabled people afford safe housing in the private market by subsidizing rent.",estimated_value:"$500-$1,500/month",how_to_apply:"Apply through your local Public Housing Agency. Find yours at https://www.hud.gov/program_offices/public_indian_housing/pha/contacts",check:(p)=>checkFPL(p,100)},
      {name:"LIHEAP (Energy Assistance)",description:"Helps low-income households pay heating and cooling bills, and can also assist with weatherization and energy-related home repairs.",estimated_value:"$200-$1,000/year",how_to_apply:"Apply through your state or local LIHEAP agency. Info at https://www.acf.hhs.gov/ocs/low-income-home-energy-assistance-program-liheap",check:(p)=>checkFPL(p,150)},
      {name:"Lifeline Phone/Internet Discount",description:"Provides a monthly discount of up to $9.25 on phone or internet service for eligible low-income households.",estimated_value:"$111/year",how_to_apply:"Apply through your phone/internet provider or at https://www.lifelinesupport.org/",check:(p)=>checkFPL(p,135)},
      {name:"Pell Grant",description:"Federal grant for undergraduate students with financial need. Unlike loans, Pell Grants do not have to be repaid.",estimated_value:"$1,000-$7,395/year",how_to_apply:"Complete the FAFSA at https://studentaid.gov/h/apply-for-aid/fafsa",check:(p)=>{if(!p.isStudent)return null;if(p.incomeMid<=30000)return"Likely Eligible";if(p.incomeMid<=60000)return"Worth Checking";return null;}},
      {name:"Unemployment Insurance",description:"Provides temporary weekly payments to workers who have lost their job through no fault of their own while they search for new work.",estimated_value:"$200-$600/week",how_to_apply:"File a claim with your state unemployment office. Find yours at https://www.careeronestop.org/LocalHelp/UnemploymentBenefits/find-unemployment-benefits.aspx",check:(p)=>{if(!p.isUnemployed)return null;return"Worth Checking";}},
      {name:"SSI (Supplemental Security Income)",description:"Monthly cash payments to disabled adults and children with limited income and resources, and to adults 65 and older.",estimated_value:"$500-$943/month",how_to_apply:"Apply at your local Social Security office or online at https://www.ssa.gov/ssi/",check:(p)=>{if(!p.isDisabled&&!p.isRetired)return null;if(p.fplPctMid<=100)return"Likely Eligible";if(p.fplPctMid<=130)return"Worth Checking";return null;}},
      {name:"SSDI (Social Security Disability Insurance)",description:"Provides monthly benefits to people who can no longer work due to a significant medical condition expected to last at least one year.",estimated_value:"$800-$1,800/month",how_to_apply:"Apply online at https://www.ssa.gov/disability/ or call 1-800-772-1213",check:(p)=>{if(!p.isDisabled)return null;return"Worth Checking";}},
      {name:"Social Security Retirement Benefits",description:"Monthly retirement income based on your lifetime earnings record. You can claim as early as age 62 with reduced benefits.",estimated_value:"$1,000-$3,500/month",how_to_apply:"Apply online at https://www.ssa.gov/retirement/ or call 1-800-772-1213",check:(p)=>{if(!p.isRetired)return null;return"Worth Checking";}},
      {name:"VA Health Care",description:"Comprehensive health care services for eligible veterans, including preventive care, hospital care, prescriptions, and mental health services.",estimated_value:"$5,000-$15,000/year",how_to_apply:"Apply online at https://www.va.gov/health-care/apply-for-health-care-form-10-10ez/",check:(p)=>{if(!p.isVeteran)return null;return"Likely Eligible";}},
      {name:"VA Disability Compensation",description:"Tax-free monthly payments for veterans with service-connected disabilities or conditions caused or aggravated during military service.",estimated_value:"$165-$3,737/month",how_to_apply:"File a claim at https://www.va.gov/disability/how-to-file-claim/",check:(p)=>{if(!p.isVeteran)return null;if(p.isDisabled)return"Likely Eligible";return"Worth Checking";}},
      {name:"VA Pension",description:"Tax-free monthly benefit for wartime veterans with limited income who are 65+ or permanently disabled.",estimated_value:"$600-$1,500/month",how_to_apply:"Apply at https://www.va.gov/pension/how-to-apply/",check:(p)=>{if(!p.isVeteran)return null;if((p.isDisabled||p.isRetired)&&p.fplPctMid<=150)return"Likely Eligible";if(p.fplPctMid<=150)return"Worth Checking";return null;}},
      {name:"VA Education Benefits (GI Bill)",description:"Helps veterans and service members pay for college, graduate school, and training programs, including tuition and housing.",estimated_value:"$10,000-$27,000/year",how_to_apply:"Apply at https://www.va.gov/education/how-to-apply/",check:(p)=>{if(!p.isVeteran)return null;if(p.isStudent)return"Likely Eligible";return"Worth Checking";}},
      {name:"Medicare Savings Program",description:"Helps pay Medicare premiums, deductibles, coinsurance, and copayments for people with limited income and resources.",estimated_value:"$2,000-$5,000/year",how_to_apply:"Contact your state Medicaid office. Info at https://www.medicare.gov/basics/costs/help/medicare-savings-programs",check:(p)=>{if(!p.isRetired)return null;return checkFPL(p,135);}},
    ];

    function findBenefits(formData){
      const profile=buildProfile(formData);const matched=[];
      for(const b of BENEFITS_DB){const c=b.check(profile);if(!c)continue;
        matched.push({name:b.name,description:b.description,estimated_value:b.getValue?b.getValue(profile):b.estimated_value,how_to_apply:b.how_to_apply,confidence:c});}
      matched.sort((a,b)=>a.confidence===b.confidence?0:a.confidence==="Likely Eligible"?-1:1);
      return matched;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HELPERS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    function renderWithLinks(text){
      const parts=text.split(/(https?:\/\/[^\s),]+)/g);
      return parts.map((p,i)=>p.match(/^https?:\/\//)?<a key={i} href={p} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:text-blue-800 underline break-all">{p}</a>:p);
    }
    function estimateYearlyTotal(benefits){
      let total=0;for(const b of benefits){const v=b.estimated_value||"";const a=v.match(/\$[\d,]+/g);if(!a)continue;
      const nums=a.map(x=>parseInt(x.replace(/[$,]/g,""),10));const avg=nums.reduce((s,n)=>s+n,0)/nums.length;
      if(/\/month/i.test(v))total+=avg*12;else if(/\/week/i.test(v))total+=avg*52;else total+=avg;}return Math.round(total);
    }
    function formatCurrency(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(a);}

    function buildPlainTextSummary(results,ownedNames,formData,unclaimedTotal,lang){
      const t=UI[lang];const lines=[];
      lines.push(t.summaryTitle);lines.push("=".repeat(40));
      lines.push(`${t.summaryProfile}: ${formData.state} | ${formData.householdSize} | ${formData.income} | ${formData.employment}`);
      lines.push("");
      const uncl=results.filter(b=>!ownedNames.has(b.name));const cl=results.filter(b=>ownedNames.has(b.name));
      if(uncl.length>0){lines.push(`${t.summaryUnclaimed} (${uncl.length}) â€” ${formatCurrency(unclaimedTotal)}${t.perYear}`);lines.push("-".repeat(40));
        for(const b of uncl){const nm=bText(b.name,"name",lang)||b.name;const conf=b.confidence==="Likely Eligible"?t.likely:t.worth;
          lines.push(`[${conf}] ${nm}`);lines.push(`  ${b.estimated_value}`);
          lines.push(`  ${bText(b.name,"description",lang)||b.description}`);
          lines.push(`  ${bText(b.name,"how_to_apply",lang)||b.how_to_apply}`);lines.push("");}}
      if(cl.length>0){lines.push(`${t.summaryReceiving} (${cl.length})`);lines.push("-".repeat(40));
        for(const b of cl)lines.push(`  âœ“ ${bText(b.name,"name",lang)||b.name} â€” ${b.estimated_value}`);lines.push("");}
      lines.push(t.disclaimer);return lines.join("\n");
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ICONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    const ShieldIcon=()=><svg className="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={1.5}><path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"/></svg>;
    const DollarIcon=()=><svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>;
    const CheckBadgeIcon=()=><svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.745 3.745 0 011.043 3.296A3.745 3.745 0 0121 12z"/></svg>;
    const ClipboardIcon=()=><svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"/></svg>;
    const ChevronIcon=({open})=><svg className={`w-5 h-5 transition-transform duration-200 ${open?"rotate-180":""}`} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>;

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FORM COMPONENTS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    function SelectField({label,value,onChange,options,placeholder}){
      return(<div><label className="block text-sm font-semibold text-gray-700 mb-1.5">{label}</label>
        <select value={value} onChange={e=>onChange(e.target.value)} className="w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all appearance-none cursor-pointer">
          <option value="">{placeholder}</option>
          {options.map(opt=>{const v=typeof opt==="string"?opt:opt.value;const l=typeof opt==="string"?opt:opt.label;return<option key={v} value={v}>{l}</option>;})}
        </select></div>);
    }

    function ToggleGroup({label,value,onChange,options,disabled}){
      return(<div className={disabled?"opacity-50":""}><label className="block text-sm font-semibold text-gray-700 mb-1.5">{label}</label>
        <div className={`grid gap-2 ${options.length<=3?"grid-cols-"+options.length:"grid-cols-2 sm:grid-cols-3"}`}>
          {options.map(opt=>{const v=typeof opt==="string"?opt:opt.value;const l=typeof opt==="string"?opt:opt.label;
            return(<label key={v} className={`text-center py-2.5 px-3 rounded-lg border-2 transition-all text-sm font-medium ${disabled?"cursor-not-allowed":"cursor-pointer"} ${value===v?"border-blue-500 bg-blue-50 text-blue-700 shadow-sm":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`}>
              <input type="radio" className="sr-only" disabled={disabled} checked={value===v} onChange={()=>onChange(v)}/>{l}</label>);})}
        </div></div>);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BENEFIT CARD
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    function BenefitCard({benefit,index,isOwned,onToggleOwned,isExpanded,onToggleExpand,lang}){
      const t=UI[lang];const isLikely=benefit.confidence==="Likely Eligible";
      const bc=isLikely?"border-l-green-500":"border-l-amber-400";
      const tb=isLikely?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-amber-400 to-yellow-500";
      const badge=isLikely?"bg-green-50 text-green-700 ring-1 ring-green-200":"bg-amber-50 text-amber-700 ring-1 ring-amber-200";
      const name=bText(benefit.name,"name",lang)||benefit.name;
      const desc=bText(benefit.name,"description",lang)||benefit.description;
      const apply=bText(benefit.name,"how_to_apply",lang)||benefit.how_to_apply;
      const confLabel=isLikely?t.likely:t.worth;
      return(
        <div className={`benefit-card fade-in-up-delay bg-white rounded-xl shadow-sm border border-gray-100 border-l-4 ${bc} overflow-hidden transition-all ${isOwned?"owned opacity-50":"hover:shadow-md"}`}
          style={{animation:`fadeInUp 0.4s ease-out ${index*0.08}s forwards`}}>
          <div className={`h-1 ${tb}`}/>
          <div className="p-4 sm:p-5">
            <div className="flex items-start justify-between gap-3">
              <div className="flex-1 min-w-0">
                <div className="flex items-center gap-2 flex-wrap">
                  <h3 className={`text-base font-bold leading-tight ${isOwned?"text-gray-400 line-through":"text-gray-900"}`}>{name}</h3>
                  <span className={`shrink-0 inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold ${badge}`}>
                    {isLikely?<CheckBadgeIcon/>:null}{confLabel}</span>
                </div>
                <div className="flex items-center gap-1.5 mt-2">
                  <span className={isOwned?"text-gray-400":"text-blue-600"}><DollarIcon/></span>
                  <span className={`text-sm font-semibold ${isOwned?"text-gray-400":"text-blue-700"}`}>{benefit.estimated_value}</span>
                </div>
              </div>
              <button type="button" onClick={onToggleExpand} className="chevron-btn shrink-0 p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors" aria-label="toggle">
                <ChevronIcon open={isExpanded}/></button>
            </div>
            <div className={`card-details ${isExpanded?"open":""}`}><div><div className="pt-4 space-y-3">
              <p className="text-gray-600 text-sm leading-relaxed">{desc}</p>
              <div className="flex items-start gap-2 px-3 py-2.5 bg-gray-50 rounded-lg">
                <span className="text-gray-500 mt-0.5 shrink-0"><ClipboardIcon/></span>
                <p className="text-sm text-gray-700 leading-relaxed">{renderWithLinks(apply)}</p>
              </div></div></div></div>
            <label className="owned-row flex items-center gap-2 mt-3 pt-3 border-t border-gray-100 cursor-pointer group select-none">
              <input type="checkbox" checked={isOwned} onChange={onToggleOwned} className="w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"/>
              <span className="text-xs text-gray-500 group-hover:text-gray-700 transition-colors">{t.ownedCheck}</span>
            </label>
          </div>
        </div>);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN APP
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    function App(){
      const[lang,setLang]=useState("en");
      const[formData,setFormData]=useState({state:"",householdSize:"",income:"",employment:"",hasChildren:"",hasInsurance:"",isVeteran:""});
      const[results,setResults]=useState(null);
      const[ownedNames,setOwnedNames]=useState(new Set());
      const[expandedCards,setExpandedCards]=useState(new Set());
      const[copied,setCopied]=useState(false);
      const resultsRef=useRef(null);
      const formRef=useRef(null);
      const t=UI[lang];

      const updateField=(f,v)=>{
        if(f==="householdSize"&&v==="1")setFormData(prev=>({...prev,[f]:v,hasChildren:"No"}));
        else setFormData(prev=>({...prev,[f]:v}));
      };
      const toggleOwned=(nm)=>setOwnedNames(prev=>{const n=new Set(prev);n.has(nm)?n.delete(nm):n.add(nm);return n;});
      const toggleExpanded=(i)=>setExpandedCards(prev=>{const n=new Set(prev);n.has(i)?n.delete(i):n.add(i);return n;});
      const expandAll=()=>{if(results)setExpandedCards(new Set(results.map((_,i)=>i)));};
      const collapseAll=()=>setExpandedCards(new Set());
      const handleStartOver=()=>{setFormData({state:"",householdSize:"",income:"",employment:"",hasChildren:"",hasInsurance:"",isVeteran:""});setResults(null);setOwnedNames(new Set());setExpandedCards(new Set());
        setTimeout(()=>formRef.current?.scrollIntoView({behavior:"smooth",block:"start"}),150);};
      const handleEditAnswers=()=>formRef.current?.scrollIntoView({behavior:"smooth",block:"start"});

      const isFormComplete=formData.state&&formData.householdSize&&formData.income&&formData.employment&&formData.hasChildren&&formData.hasInsurance&&formData.isVeteran;
      const handleSubmit=(e)=>{e.preventDefault();setResults(findBenefits(formData));setOwnedNames(new Set());setExpandedCards(new Set());
        setTimeout(()=>resultsRef.current?.scrollIntoView({behavior:"smooth",block:"start"}),150);};

      const unclBenefits=results?results.filter(b=>!ownedNames.has(b.name)):[];
      const unclTotal=estimateYearlyTotal(unclBenefits);
      const ownedCount=ownedNames.size;
      const likelyCount=unclBenefits.filter(b=>b.confidence==="Likely Eligible").length;
      const worthCount=unclBenefits.filter(b=>b.confidence==="Worth Checking").length;

      const handleCopy=async()=>{const txt=buildPlainTextSummary(results,ownedNames,formData,unclTotal,lang);
        try{await navigator.clipboard.writeText(txt);}catch{const ta=document.createElement("textarea");ta.value=txt;document.body.appendChild(ta);ta.select();document.execCommand("copy");document.body.removeChild(ta);}
        setCopied(true);setTimeout(()=>setCopied(false),2500);};

      const langBtn=(code,label)=>(
        <button key={code} type="button" onClick={()=>setLang(code)}
          className={`px-3 py-1 rounded-full text-sm font-medium transition-all ${lang===code?"bg-white text-blue-700 shadow-sm":"text-blue-200 hover:text-white hover:bg-white/10"}`}>
          {label}</button>);

      return(
        <div className="min-h-screen flex flex-col print-expand">
          <header className="bg-gradient-to-br from-blue-800 via-blue-700 to-teal-600 text-white no-print">
            <div className="max-w-4xl mx-auto px-4 py-10 sm:py-14">
              <div className="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4">
                <div>
                  <div className="flex items-center justify-between gap-3 mb-3">
                    <div className="flex items-center gap-3">
                      <ShieldIcon/>
                      <h1 className="text-3xl sm:text-4xl font-extrabold tracking-tight">{t.title}</h1>
                    </div>
                    <div className="flex sm:hidden gap-1 bg-white/10 rounded-full p-1 shrink-0">
                      {langBtn("en","EN")}{langBtn("es","ES")}{langBtn("zh","ä¸­æ–‡")}
                    </div>
                  </div>
                  <p className="text-blue-100 text-lg max-w-2xl leading-relaxed">{t.subtitle}</p>
                </div>
                <div className="hidden sm:flex gap-1 bg-white/10 rounded-full p-1 shrink-0">
                  {langBtn("en","EN")}{langBtn("es","ES")}{langBtn("zh","ä¸­æ–‡")}
                </div>
              </div>
            </div>
          </header>

          <main className="flex-1 max-w-4xl mx-auto w-full px-4 py-8">
            <form ref={formRef} onSubmit={handleSubmit} className="no-print bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sm:p-8">
              <h2 className="text-xl font-bold text-gray-900 mb-1">{t.formTitle}</h2>
              <p className="text-sm text-gray-500 mb-6">{t.formSub}</p>
              <div className="grid gap-6 sm:grid-cols-2">
                <SelectField label={t.lState} value={formData.state} onChange={v=>updateField("state",v)} options={US_STATES} placeholder={t.phState}/>
                <SelectField label={t.lSize} value={formData.householdSize} onChange={v=>updateField("householdSize",v)} options={["1","2","3","4","5","6","7","8+"]} placeholder={t.phSize}/>
                <div className="sm:col-span-2">
                  <SelectField label={t.lIncome} value={formData.income} onChange={v=>updateField("income",v)} options={optList(INCOME_RANGES,"income",lang)} placeholder={t.phIncome}/></div>
                <div className="sm:col-span-2">
                  <ToggleGroup label={t.lEmployment} value={formData.employment} onChange={v=>updateField("employment",v)} options={optList(EMPLOYMENT_OPTIONS,"employment",lang)}/></div>
                <div className="sm:col-span-2">
                  <ToggleGroup label={t.lChildren} value={formData.hasChildren} onChange={v=>updateField("hasChildren",v)} options={optList(YES_NO,"yesNo",lang)} disabled={formData.householdSize==="1"}/></div>
                <ToggleGroup label={t.lInsurance} value={formData.hasInsurance} onChange={v=>updateField("hasInsurance",v)} options={optList(YES_NO,"yesNo",lang)}/>
                <ToggleGroup label={t.lVeteran} value={formData.isVeteran} onChange={v=>updateField("isVeteran",v)} options={optList(YES_NO,"yesNo",lang)}/>
              </div>
              <div className="mt-8">
                <button type="submit" disabled={!isFormComplete}
                  className={`w-full sm:w-auto px-10 py-3.5 rounded-xl font-bold text-white text-base shadow-md transition-all flex items-center justify-center gap-2 mx-auto sm:mx-0 ${isFormComplete?"bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600 hover:shadow-lg active:scale-[0.98]":"bg-gray-300 cursor-not-allowed"}`}>
                  <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>
                  {t.btnFind}</button>
              </div>
            </form>

            {results&&results.length>0&&(
              <div ref={resultsRef} className="mt-10">
                <div className="bg-gradient-to-r from-blue-700 via-blue-600 to-teal-500 text-white rounded-2xl p-6 sm:p-8 mb-6 shadow-lg fade-in-up">
                  {unclTotal>0&&<p className="text-lg text-blue-200 font-medium mb-1">{t.leaving}</p>}
                  {unclTotal>0?(<p className="text-4xl sm:text-5xl font-extrabold tracking-tight mb-2">{formatCurrency(unclTotal)}<span className="text-2xl sm:text-3xl font-bold text-blue-200">{t.perYear}</span></p>
                  ):(<p className="text-2xl sm:text-3xl font-extrabold mb-2">{t.allClaimed}</p>)}
                  <p className="text-blue-100 text-base">{t.onTable(unclBenefits.length)}</p>
                  <div className="flex flex-wrap gap-3 mt-4 text-sm">
                    {likelyCount>0&&<span className="inline-flex items-center gap-1.5 bg-green-500/25 backdrop-blur rounded-full px-3.5 py-1.5 font-medium"><span className="w-2.5 h-2.5 bg-green-300 rounded-full"/>{likelyCount} {t.likely}</span>}
                    {worthCount>0&&<span className="inline-flex items-center gap-1.5 bg-amber-500/25 backdrop-blur rounded-full px-3.5 py-1.5 font-medium"><span className="w-2.5 h-2.5 bg-amber-300 rounded-full"/>{worthCount} {t.worth}</span>}
                    {ownedCount>0&&<span className="inline-flex items-center gap-1.5 bg-white/15 backdrop-blur rounded-full px-3.5 py-1.5 font-medium"><svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M4.5 12.75l6 6 9-13.5"/></svg>{ownedCount} {t.already}</span>}
                  </div>
                </div>
                <div className="flex flex-wrap items-center justify-between gap-3 mb-6">
                  <div className="flex gap-2 no-print">
                    <button type="button" onClick={expandAll} className="text-xs font-medium text-gray-500 hover:text-gray-700 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">{t.expandAll}</button>
                    <button type="button" onClick={collapseAll} className="text-xs font-medium text-gray-500 hover:text-gray-700 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">{t.collapseAll}</button>
                  </div>
                  <div className="flex gap-2 no-print">
                    <button type="button" onClick={handleCopy} className="inline-flex items-center gap-1.5 text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg transition-colors">
                      {copied?(<><svg className="w-4 h-4 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M4.5 12.75l6 6 9-13.5"/></svg>{t.copied}</>)
                      :(<><svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"/></svg>{t.copy}</>)}</button>
                    <button type="button" onClick={()=>window.print()} className="inline-flex items-center gap-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors">
                      <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"/></svg>
                      {t.print}</button>
                  </div>
                </div>
                <div className="grid gap-4 sm:grid-cols-2">
                  {results.map((b,i)=><BenefitCard key={b.name} benefit={b} index={i} isOwned={ownedNames.has(b.name)} onToggleOwned={()=>toggleOwned(b.name)} isExpanded={expandedCards.has(i)} onToggleExpand={()=>toggleExpanded(i)} lang={lang}/>)}
                </div>
                <div className="flex flex-wrap justify-center gap-3 mt-8 no-print">
                  <button type="button" onClick={handleEditAnswers} className="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-semibold text-blue-700 bg-blue-50 hover:bg-blue-100 border border-blue-200 transition-colors">
                    <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"/></svg>
                    {t.editAnswers}</button>
                  <button type="button" onClick={handleStartOver} className="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-semibold text-gray-600 bg-gray-100 hover:bg-gray-200 border border-gray-200 transition-colors">
                    <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182"/></svg>
                    {t.startOver}</button>
                </div>
              </div>)}

            {results&&results.length===0&&(
              <div ref={resultsRef} className="mt-10 text-center py-12 bg-white rounded-2xl border border-gray-100 shadow-sm fade-in-up">
                <p className="text-gray-500 text-lg">{t.noResults}</p>
                <p className="text-gray-400 text-sm mt-2">{t.noResultsSub}</p>
                <button type="button" onClick={handleStartOver} className="mt-4 inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-semibold text-gray-600 bg-gray-100 hover:bg-gray-200 border border-gray-200 transition-colors no-print">
                  <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}><path strokeLinecap="round" strokeLinejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182"/></svg>
                  {t.startOver}</button>
              </div>)}
          </main>

          <footer className="bg-gray-100 border-t border-gray-200 mt-12">
            <div className="max-w-4xl mx-auto px-4 py-6">
              <p className="text-xs text-gray-500 text-center leading-relaxed">{t.disclaimer}</p>
            </div>
          </footer>
        </div>);
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
  </script>
</body>
</html>